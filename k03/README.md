# 課題3 レポート
35319010 江下翔


## 課題  

以下の2つのアルゴリズムで文字列を検索するプログラムを作成する。  
- 力ずく法
- BM法

1. 使用するデータ  
以下のデータを使用する。ただし、検索対象文字列、検索する文字列は変更しても良い。  
    - StrOriginal: 検索対象データ
    - StrKey: 検索する文字列

2. 必須問題：実装する関数  
本課題では、以下の関数を実装する。C言語の標準ライブラリは使用しないこと。  
    (1) ForceSearch: 力ずく法で文字列を検索する。  
    [入力]  
    - char text[]: 検索対象文字列  
    - char key[]: 検索する文字列  

    [出力]  
    - return値：検索する文字列が出現した場所(ポインタ)。ただし、検索する文字列が見つからない場合はNULL。  

    (2) BMSearch: BM法で文字列を検索する。  
    [入力]  
    - char text[]: 検索対象文字列  
    - char key[]: 検索する文字列  
 
    [出力]  
    - return値：検索する文字列が出現した場所(ポインタ)。ただし、検索する文字列が見つからない場合はNULL。  

3. 補助関数  
なし

## ソースコードの説明
2.長さを求める関数strlenを使えるようにする。
13.int型でstart,pos,key_len,text_lenを宣言する。
14.strlenでkeyの長さを求める。
15.strlenでtextの長さを求める。
16.keyのindexは0から始まるためkeyの長さから１を引く。それをkey_lenに代入する。
17.textのindexは0から始まるためkeyの長さから１を引く。それをtext_lenに代入する。
18.startを0とし、繰り返す度に１足すようにする。
20.posを0とし、繰り返す度に１足すようにする。
22.keyと比較中のtextの一致すると真となるif文。
23.24.keyの長さとposが一致した時、そのアドレスを返すようにする。
27.28.if文を満たさなかった時繰り返しを抜けるようにする。
31.32.次の比較場所がtextの長さを越えた時、繰り返しを抜けるようにする。
36.一致する文字列がtextから見つからなかった時、NULLを返すようにする。

42.int型で変数key_len,index,start,i,pos,text_lenを宣言する。
43.int型でずらし量テーブルのための配列を確保する。
45.key_lenにkeyの長さを代入する。
46.text_lenにtextの長さを代入する。
47.48.まずずらし量テーブルを全て求めたいkeyの長さで埋める。
50.keyのindexは0から始まるためkeyの長さから１を引く。それをkey_lenに代入する。
52.53.indexをkeyの末尾にし、indexを１ずつ減らしながらずらし量テーブルを作る。
56.57.index,posをkeyの末尾にそろえる。
58.textのindexは0から始まるためkeyの長さから１を引く。それをtext_lenに代入する。
60.returnするかbreakするまで繰り返す。
61.keyの末尾と比較中のtextの末尾が一致すると真となるif文。
62.63.l-57のif文が真かつposが0のとき、すなわちkeyの先頭まで一致した時そのtextのアドレスを返す。
65.66.posが0でないとき、index,posの値を１ずつ引いて一文字前を比較する。
69.70.textの文字とkeyの文字が不一致だった時、indexは「次の比較開始場所＝不一致となった比較場所＋文字毎のずらす量」としposはkeyの末尾に戻す。
72.73.次の比較場所がtextの長さを越えた時、繰り返しを抜けるようにする。
76.一致する文字列がtextから見つからなかった時、NULLを返すようにする。




## 出力結果

```
PS C:\Users\bb35319010\Desktop\2020psp3\k03> ./k03
Force Search. Find keyword at:wind in my hair.
BM Search. Find keyword at:wind in my hair.
```

## 修正履歴

